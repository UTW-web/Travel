<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Preview</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #333; margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        textarea { min-height: 100px; resize: vertical; }
        button { background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px; }
        button:hover { background: #45a049; }
        .preview-btn { background: #2196F3; margin-left: 10px; }
        .status { margin-top: 15px; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìù Blog Content Editor</h1>
        
        <div class="form-group">
            <label for="homeTitle">Home Page Title:</label>
            <input type="text" id="homeTitle" value="Welcome to My Travel Blog">
        </div>
        
        <div class="form-group">
            <label for="about1">About Paragraph 1:</label>
            <textarea id="about1">This is my travel blog where I share my adventures around the world.</textarea>
        </div>
        
        <div class="form-group">
            <label for="about2">About Paragraph 2:</label>
            <textarea id="about2">From breathtaking landscapes to cultural experiences, join me on this journey.</textarea>
        </div>
        
        <div class="form-group">
            <label for="about3">About Paragraph 3:</label>
            <textarea id="about3">Discover hidden gems, local cuisine, and unforgettable moments.</textarea>
        </div>
        
        <button onclick="saveContent()">üíæ Save to LocalStorage</button>
        <button class="preview-btn" onclick="openPreview()">üëÅÔ∏è Open Preview</button>
        
        <div id="status" class="status"></div>
        
        <div class="info status">
            <strong>How to use:</strong><br>
            1. Edit content above<br>
            2. Click "Save to LocalStorage"<br>
            3. Open your blog in another tab<br>
            4. Add <code>?preview=1</code> to the URL<br>
            5. Content will update automatically
        </div>
    </div>

    <script>
        function saveContent() {
            const content = {
                home: {
                    title: document.getElementById('homeTitle').value,
                    about1: document.getElementById('about1').value,
                    about2: document.getElementById('about2').value,
                    about3: document.getElementById('about3').value
                },
                lastUpdated: new Date().toISOString()
            };
            
            localStorage.setItem('travel_blog_content', JSON.stringify(content));
            
            // Trigger storage event
            window.dispatchEvent(new StorageEvent('storage', {
                key: 'travel_blog_content',
                newValue: JSON.stringify(content)
            }));
            
            showStatus('‚úÖ Content saved to localStorage! Open your blog with ?preview=1 to see changes.', 'success');
        }
        
        function openPreview() {
            // Open blog in new tab with preview parameter
            const blogUrl = window.location.href.replace('admin-preview.html', 'index.html') + '?preview=1';
            window.open(blogUrl, '_blank');
        }
        
        function showStatus(message, type) {
            const statusEl = document.getElementById('status');
            statusEl.textContent = message;
            statusEl.className = 'status ' + type;
            setTimeout(() => {
                statusEl.textContent = '';
                statusEl.className = 'status';
            }, 3000);
        }
        
        // Load any existing content
        window.addEventListener('load', () => {
            const saved = localStorage.getItem('travel_blog_content');
            if (saved) {
                try {
                    const content = JSON.parse(saved);
                    document.getElementById('homeTitle').value = content.home?.title || '';
                    document.getElementById('about1').value = content.home?.about1 || '';
                    document.getElementById('about2').value = content.home?.about2 || '';
                    document.getElementById('about3').value = content.home?.about3 || '';
                    showStatus('üìù Loaded saved content', 'info');
                } catch (e) {
                    console.warn('Could not load saved content:', e);
                }
            }
        });
    </script>
</body>
</html>